clc
clear all
format long

network = [
     0     1     1     0     0     0     0     0     0     0     0     0     0     0     1     1;
     1     0     0     1     0     0     0     0     0     0     0     0     0     0     1     1;
     1     0     0     1     1     1     0     0     0     0     0     0     0     0     0     0;
     0     1     1     0     1     1     0     0     0     0     0     0     0     0     0     0;
     0     0     1     1     0     1     1     0     0     0     0     0     0     0     0     0;
     0     0     1     1     1     0     0     1     0     0     0     0     0     0     0     0;
     0     0     0     0     1     0     0     1     1     0     0     0     0     0     0     0;
     0     0     0     0     0     1     1     0     0     1     0     0     0     0     0     0;
     0     0     0     0     0     0     1     0     0     1     1     0     0     0     0     0;
     0     0     0     0     0     0     0     1     1     0     0     1     0     0     0     0;
     0     0     0     0     0     0     0     0     1     0     0     1     1     0     0     0;
     0     0     0     0     0     0     0     0     0     1     1     0     0     1     0     0;
     0     0     0     0     0     0     0     0     0     0     1     0     0     1     1     0;
     0     0     0     0     0     0     0     0     0     0     0     1     1     0     0     1;
     1     1     0     0     0     0     0     0     0     0     0     0     1     0     0     1;
     1     1     0     0     0     0     0     0     0     0     0     0     0     1     1     0];
% network = [
%     0 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0;
%     1 0 1 0 0 1 0 0 0 0 0 0 0 0 0 0;
%     1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0;
%     0 0 1 0 1 0 0 1 0 0 0 0 0 0 0 0;
%     0 0 0 1 0 1 1 1 0 1 0 0 0 0 0 0;
%     0 1 0 0 1 0 1 0 0 0 0 0 0 0 0 0;
%     0 0 0 0 1 1 0 0 1 1 0 0 0 0 0 0;
%     0 0 0 1 1 0 0 0 0 0 1 0 0 0 0 0;
%     0 0 0 0 0 0 1 0 0 1 0 1 0 0 0 0;
%     0 0 0 0 1 0 1 0 1 0 1 1 1 0 0 0;
%     0 0 0 0 0 0 0 1 0 1 0 0 1 0 0 0;
%     0 0 0 0 0 0 0 0 1 1 0 0 1 1 1 0;
%     0 0 0 0 0 0 0 0 0 1 1 1 0 0 1 0;
%     0 0 0 0 0 0 0 0 0 0 0 1 0 0 1 1;
%     0 0 0 0 0 0 0 0 0 0 0 1 1 1 0 1;
%     0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 0];
% 
node_rel = [0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9];

p = [0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 ];
%p(11) = 0.1;



% network = [
%      0     0     1     0     0     0     0     0     0     0     0     0     0     0     1     0     0     0     0     0     0     0     0     1;
%      0     0     1     1     0     0     0     0     0     0     0     0     0     0     0     0     0     0     0     0     0     0     1     0;
%      1     1     0     0     0     0     0     0     1     0     0     0     0     0     0     0     0     0     0     0     0     0     0     0;
%      0     1     0     0     1     0     0     0     0     0     0     0     0     0     0     0     1     0     0     0     0     0     0     0;
%      0     0     0     1     0     0     0     0     0     0     1     0     0     1     0     0     0     0     0     0     0     0     0     0;
%      0     0     0     0     0     0     1     0     0     0     1     0     0     0     0     0     0     0     1     0     0     0     0     0;
%      0     0     0     0     0     1     0     0     1     0     0     0     1     0     0     0     0     0     0     0     0     0     0     0;
%      0     0     0     0     0     0     0     0     1     1     0     0     0     0     0     0     0     0     0     0     0     1     0     0;
%      0     0     1     0     0     0     1     1     0     0     0     0     0     0     0     0     0     0     0     0     0     0     0     0;
%      0     0     0     0     0     0     0     1     0     0     1     0     0     0     0     1     0     0     0     0     0     0     0     0;
%      0     0     0     0     1     1     0     0     0     1     0     0     0     0     0     0     0     0     0     0     0     0     0     0;
%      0     0     0     0     0     0     0     0     0     0     0     0     1     0     0     0     1     1     0     0     0     0     0     0;
%      0     0     0     0     0     0     1     0     0     0     0     1     0     0     1     0     0     0     0     0     0     0     0     0;
%      0     0     0     0     1     0     0     0     0     0     0     0     0     0     1     1     0     0     0     1     0     0     0     0;
%      1     0     0     0     0     0     0     0     0     0     0     0     1     1     0     0     0     0     0     0     0     0     0     0;
%      0     0     0     0     0     0     0     0     0     1     0     0     0     1     0     0     1     0     0     0     0     0     0     0;
%      0     0     0     1     0     0     0     0     0     0     0     1     0     0     0     1     0     0     0     0     0     0     0     0;
%      0     0     0     0     0     0     0     0     0     0     0     1     0     0     0     0     0     0     0     0     0     0     1     0;
%      0     0     0     0     0     1     0     0     0     0     0     0     0     0     0     0     0     0     0     0     1     0     0     0;
%      0     0     0     0     0     0     0     0     0     0     0     0     0     1     0     0     0     0     0     0     1     1     0     0;
%      0     0     0     0     0     0     0     0     0     0     0     0     0     0     0     0     0     0     1     1     0     0     0     1;
%      0     0     0     0     0     0     0     1     0     0     0     0     0     0     0     0     0     0     0     1     0     0     1     0;
%      0     1     0     0     0     0     0     0     0     0     0     0     0     0     0     0     0     1     0     0     0     1     0     0;
%      1     0     0     0     0     0     0     0     0     0     0     0     0     0     0     0     0     0     0     0     1     0     0     0];
% 
% [n n] = size(network);
% node_rel = [];
% for i = 1 : n
%     node_rel(i) = 0.9;
% end
% p = [];
% for i = 1 :40
%     p(i) = 0.9; 
% end
% network = [
% 0 1 0 1 0 0 0 0 0;
% 1 0 1 0 1 0 0 0 0;
% 0 1 0 0 0 1 0 0 0;
% 1 0 0 0 1 0 1 0 0;
% 0 1 0 1 0 1 0 1 0;
% 0 0 1 0 1 0 0 0 1;
% 0 0 0 1 0 0 0 1 0;
% 0 0 0 0 1 0 1 0 1;
% 0 0 0 0 0 1 0 1 0];
% n = 9;
% % network = [
% %      0     1     1     1     0     0     0     0     0;
% %      1     0     1     0     1     0     0     0     0;
% %      1     1     0     0     0     1     0     0     0;
% %      1     0     0     0     1     1     1     0     0;
% %      0     1     0     1     0     1     0     1     0;
% %      0     0     1     1     1     0     0     0     1;
% %      0     0     0     1     0     0     0     1     1;
% %      0     0     0     0     1     0     1     0     1;
% %      0     0     0     0     0     1     1     1     0];
% node_rel = [];
% for i = 1 : 9
%     node_rel(i) = 0.9; 
% end
% 
% p = [];
% for i = 1 : 48
%     p(i) = 0.9;
% end
% n = 16;
% network = ones(n , n);
% for i = 1 : n
%     network(i,i) = 0;
% end

% n = 30;
% m = 5;
% link = 0;
% network = zeros(n , n);
% for i = 1 : n-1
%     network(i , i+1) = 1;
%     network(i+1 , i) = 1;
%     link = link + 1;
% end
% for i = 1 : n-5
%     network(i , i+m) = 1;
%     network(i+m , i) = 1;
%     link = link + 1;
% end
% for i = 1 : m
%     network(i*m , i*m + 1) = 0;
%     network(i*m+1 , i*m) = 0;
%     link = link - 1;
% end
% 
% node_rel = [];
% for i = 1 : n
%     node_rel(i) = 0.9; 
% end
% 
% p = [];
% for i = 1 : (n*(n-1))/2 + 2
%     p(i) = 0.9;
% end
% 
% [ link_matrix networkf ] = Calculate_link_matrix( network );
% My_view_with_link_undirected( network , link_matrix );

% network = [
%      0     0     1     1     0     0;
%      0     0     1     0     1     0;
%      1     1     0     0     0     0;
%      1     0     0     0     0     0;
%      0     1     0     0     0     1;
%      0     0     0     0     1     0];
%  node_rel = [0.9 0.9 0.9 0.9 0.9 0.9];



% network=[
%     0 1 0 1 0 0;
%     1 0 1 1 0 0;
%     0 1 0 1 1 1;
%     1 1 1 0 1 0;
%     0 0 1 1 0 1;
%     0 0 1 0 1 0];
% reliability_matrix = [
%     000  0.9  000  0.9   000  000;
%     0.9  000  0.9  0.9   000  000;
%     000  0.9  000  0.9   0.9  0.9;
%     0.9  0.9  0.9  000   0.9  000;
%     000  000  0.9  0.9   000  0.9;
%     000  000  0.9  000   0.9  000];
% node_rel = [0.9 0.9 0.9 0.9 0.9 0.9];
% p = Calculate_p_from_reliability_matrix( reliability_matrix );




% network=[
%     0 1 0 1 1 1;
%     1 0 1 1 0 0;
%     0 1 0 1 1 0;
%     1 1 1 0 1 1;
%     1 0 1 1 0 0;
%     1 0 0 1 0 0];
% node_rel = [0.9 0.9 0.9 0.9 0.9 0.9];

% network=[
%     0 1 0 0 0 1 0 0 0;
%     1 0 1 0 0 1 1 0 0;
%     0 1 0 1 0 0 1 1 0;
%     0 0 1 0 1 0 0 1 1;
%     0 0 0 1 0 0 0 0 1;
%     1 1 0 0 0 0 1 0 0;
%     0 1 1 0 0 1 0 1 0;
%     0 0 1 1 0 0 1 0 1;
%     0 0 0 1 1 0 0 1 0];
% 
% reliability_matrix = [
%     0 1 0 0 0 1 0 0 0;
%     1 0 1 0 0 1 1 0 0;
%     0 1 0 1 0 0 1 1 0;
%     0 0 1 0 1 0 0 1 1;
%     0 0 0 1 0 0 0 0 1;
%     1 1 0 0 0 0 1 0 0;
%     0 1 1 0 0 1 0 1 0;
%     0 0 1 1 0 0 1 0 1;
%     0 0 0 1 1 0 0 1 0];
% node_rel = [0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9];


% network=[
%     0 1 0 1 1 ;
%     1 0 1 1 0 ;
%     0 1 0 1 1 ;
%     1 1 1 0 1 ;
%     1 0 1 1 0 ];
% ids = {'1' '2' '3' '4' '5' };
% p = [0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9];
% node_rel = [1 1 1 1 1];




% network = [
% 	 0     1     0     1     1     1;
%      1     0     1     1     0     1;
%      0     1     0     1     1     0;
%      1     1     1     0     1     0;
%      1     0     1     1     0     1;
%      1     1     0     0     1     0]
% %ids = [int2str(1) int2str(2) int2str(3) int2str(4) int2str(5) int2str(6)]
% 
%p = [0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 0.9 ];	 
% node_rel = [0.9 0.9 0.9 0.9 0.9 0.9];
% source = 1;
% sink = [5];

Main_function(network , p , node_rel);

